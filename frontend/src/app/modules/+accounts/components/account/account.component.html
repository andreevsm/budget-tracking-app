<div class="root">
  <div class="account">
    <h1 class="account__title">
      {{ account.name }}
    </h1>

    <main class="account__main">
      <div class="account__amount amount">
        <div
          class="amount__circle"
          [ngClass]="{
            'amount__circle-increase': (todayPayments | sum : 'amount') > 0,
            'amount__circle-decrease': (todayPayments | sum : 'amount') < 0
          }"
        ></div>
        <div class="amount__inner">
          <p class="amount__value">
            {{ todayPayments | sum : 'amount' | currency: currencies[account.currencyId].name : 'symbol-narrow' }}
          </p>
          <button mat-button color="primary" class="account__add" (click)="onAddItem()">
            Добавить
          </button>
        </div>
      </div>

      <ul class="account__payments payments">
        <li class="payments__date">
          <h3 class="payments__title">
            Сегодня
          </h3>
          <ul class="payments__list">
            <li class="payments__payment payment" *ngFor="let payment of todayPayments">
              <div class="payment__name" [style.color]="categories[payment?.categoryId]?.color">
                {{ categories[payment?.categoryId]?.name }}
              </div>
              <div class="payment__amount">
                <span
                  class="payment__value"
                  [ngClass]="{
                    payment__value: true,
                    payment__value_income: payment.type === 'incomes',
                    payment__value_expense: payment.type === 'expenses'
                  }"
                >
                  {{ payment.amount | currency: currencies[payment.currencyId].name : 'symbol-narrow' }}
                </span>
              </div>
            </li>
          </ul>
        </li>

        <li class="payments__date">
          <h3 class="payments__title">
            Вчера
          </h3>
          <ul class="payments__list">
            <li class="payments__payment payment" *ngFor="let payment of yesterdayPayments">
              <div class="payment__name" [style.color]="categories[payment?.categoryId]?.color">
                {{ categories[payment?.categoryId]?.name }}
              </div>
              <div class="payment__amount">
                <span
                  class="payment__value"
                  [ngClass]="{
                    payment__value: true,
                    payment__value_income: payment.type === 'INCOME',
                    payment__value_expense: payment.type === 'EXPENSE'
                  }"
                >
                  {{ payment.amount | currency: currencies[payment.currencyId].name : 'symbol-narrow' }}
                </span>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </main>
  </div>
</div>
